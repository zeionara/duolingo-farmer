export tmp_file_name=_query.json
export time=$(date +%s)

# export level_index=0
# export skill_id=9572a35ae71f6352ea5d1e50c627a118
export delay=1 # seconds
export skill_tree_id=5498b48ae14f4c1c351f6120b0d35d1d # 40b940e95e8a5a61db15b1b6d2e57bf4

#for sid in ccbcfab0e4a5cdce2baa4e536b9eb947 9572a35ae71f6352ea5d1e50c627a118 50b8627408bb380b116e502ac630f842 33a6c0d594b841e445ca218a7e3daafc 11493ccff552e8e8411ff8dd1d4c1b40 e845a3889dfad83ae9b08efb0e9ed616 beba610add569c3c7f7f6b3e7294246e f6e75e9b2745562dca9a9a6bef9d7ff9 5b50710e7e11ecc1de76b2dc34efa500 3a3ba8faaa7dc21a06b18bf12e890655 e07d5eea1281f57068a1d78a8f9a0b57 6e6020a8521e7bdeaec8048370b96aef 3f1039265ff9557c66cbcb0fa225b02c 83d260c2ded99ea221e3ae7b3299fed9 0a26cd6e63d1051f8298118e92467e79 01201732e757b4e1faf810cd67dd97ee e0c7ce6de6481cfffde7492bf706429b 530c41a31f50122f7ca834338a6f9fbe ddd07c24dde5e41cb8de73c9cc3e40ab d4464559b8846b454a98232673ba529d c94a4d615ca67d117c9d25ef0833bbc2 481caacd23a2efe8d249c1604f80a2ca df0ab8d1d0331c0cbab5fa1f81ec6340 344711051cb423f507ca6840e8609743 8594ed5e90c12ed11bbd453b022d905f dfb30658655da1f455cf4cef686ebbf0 c46e9d74b11db5325e8a8cc814637edf d541d16d2ff5e68a151b107d30e9f569 b8ac102d52b2ad73293011e4a4fb67e5 013f2a43aea41933d90bddafed0c64cf 8d077bdb61402c774f7f57c898b7d130 42b5653b72370232559b1f7f5ba83bc6 e2a4c0004f07b75535f952fb4448fc15 4741c68626f51fcb22ec1d904a5bd28c 63a16a69459e8fcdd6d8aa35e7458dcb 8f7fb5ff0b977a6828417e5da2ab2a1d b13853f37efeae379cdf8d2c34fcf4e3 7941b38878531a599152c84b8cee4832 f6daeb10e1766bb9bfa15c28a359b566 9138b35e766069c1a7354bbe93a507e2 1de36aac9c3169644179436b6e05a15d 459555299fdc254453b9ee4c15d1ba14 84dd527190ea091b142e19f87db2cadb ec771b56b697e58ff4a8d48adcdb53bc cdc6f4eff2e286c5e348b1d5bba0d12e 54e28f733396298061233028a4ce0782 165b66cd57cef93b726046ca8b2f7005 4f68599fdf6cdbefa55a03de2746c68b 497082cd4358600196b233c0636fb1e4 fab42462e8a4a85e0dca7e03481b5c4e 2a146d85c26ad232f676ae71a0e1f96c 6ed249714b29ba8c79492e77eefcf4f5 5bc00d5a5173a6bda489c2f6f3474418 461a8d30106e4a6f4350e77317a4e36d af66b02efd410d5da34365499c3c6ade 25b34eeb890819eec57639770ca79944 42488fe1d55bac7e8341588507b3c750 91931fb97efc6ea128deb124a0a57526 89f39989a6ae3b337383ea0cca76e6e3 591d1d1b626255bb4a376e491e73f9b3 80589df7c5eba02749341fd27d202370 4f14f2890d2081c28f85e060aa083bb0 8b90c92b39143cfbaabbe5c2a04f8ba1 bb716b0a09d756d1da2392684327b133 e8f49e6337d6639e1d24d64a395ce3f4 30b938a4cbf1feac3226b4d327075e9b 82d893a0feeb7f5a184b460d790037bc 94d8965d423e6c2ddf9955ceeaa204da deb1df469ac9e129b331d9ca31f7808b 30c1140075420b93f75dd3bedfd8fa85 d46f56f770a302476c102cd6c0351504 2c5f2bd8319dc5bf1049f46ebe20be59 5778f4eb7c01bb2ca54200e356c6f46f a43f08760c34a83c61e5338494c2f303 930a7fe2f3931ca4ca5e0217452b16ca fab288da0f91c84c9563fa77c264bc11 fb805a702653dca8bef6fc6c1e0a0d6c c2c00e8fccbf1503d7725559132ae2e2 67b583d47bf16e89cc0c784087549ae6 3b15eec50f1980bb1a1f74a51b9c4490 1866ae5e9bfae97960398f8ec60afa2f 11c9e886358e9f7aa1ac1f49dfc9bd09 b1de4ba79c50ec2ef491ded952d666c2 1833cd351a824fef02910b4d79e6121b 4937777ffbc80d10468f7b0b06264872 9f58263beab10f2b44d63c8a6dc8fe41 a60efec27e0a4ebf26d0cb9f15630639 978a5642f876f8124f8a4910c4c26f12 a0edfa7914bc0b56b0ba05fa4440ebce c737664a4a17e8521d4dce914c02f6ed 89bec4adf5a931ed6d8842a608c1f9c3 eba8cedd4c272ebf1cfbab076da63437 5dfeb1fc69fd2e5bf287dfd1011d83ec 993f124fd8a96f7024788e332ed16e24 02874f22eb88535123da85a5b6d1bd72 0724b089513a0e13b7d923284ee9a0ad b6a61398490a80b80595e919977db156 e18803063d973972bd46b6c9ed7c7559 306c89cc116804f7c5a1cd9d96d0fe29 22afb3bba8c7c6ee7c400b8219dc75b5 3401e9fc967511a25ab8450d80352e78 d6c7ba01bb3adf48ebfbfa3bc7694539 2f974f5c19a7dee0ec4902662f4e58e7 3891a26af302999f90586658dacc2f2a 770964c7f290a900f784b1838ab94611 f44c6b5ceebb69a9ef4652df53e959bf 86cd76dd0d84320c96e83fda01896387 86c9e3a869d36769bb06417fc937b7df 67789e8bf532231f795a7b200a657b18 55f4ccb9a4c1ae748ef7640dc9973e7e 6a6054ef06904c3cba2a6cf07a32ecff 9016bf00ebf772906f4915327d58039f b3a657a6a0d258d4cafd24230cc0b369 e7816e3e696238a431f517b264fb5f8c 3462df2eb69bccb5ee8d6cb621f4da9e; do
# for sid in 960aaea282145163958b703c23788326 e2587aa2fa914c4f1a7ab4925f29d6f0 c4f3074693973624ca43383f7b568adb 48e3ff164737b13555727c80d5e0e20a 099ee4f481075a8a68c4ff69d881905e ff060cd94605fb90f6d5c9870e90f246 30373243483531e1334412ef99f094c7 ffe59722ad8b807648b101e6bd387178 cc1e558028086aeab5ef8df1b764a101 0c3458d46a384f07e309332d5ec3e865 95f44eb5b9064998da816e2255b46dd3 c2a6082be3de04e211bc26ef4542ea39 c2d48babd25226f62d046e42967bcc4f bc2f23e1f2a96a6295148d76308d051c 1ad937d0da1e7943329215f7067817ae 3da89478a01f03b570785ef6e782c519 251a374e5fc10693286ff63f6c5efec5 6cc352de4bd1d1c39284a987b8d75c65 4c5ef4378541b43203f96f51e57f9666 4715cffbcb1c7d864e699f957c81b881 7af5dd5c8c74d99de556d64a060aac10 6dc40754699a225786a59520dd5baf12 fb323dd65b4a55edcbf41ac79e0eb3fc 28b4a20c1f4b82348c5400d4e71490a8 18cbc1b9b12e2bbee20f2e5ca659d001 4230ae7c2224c0bd8a39f3edd1930055 3cd8b0ba20ab512236b29fa5b4815e15 66b3ca1992f4d4323709ff7d8c98cc1a b172e16b20b561447e2ce9c89bf66576 7e5b936fa897c2c4ff9fd3e8149ec988 8b67c157f46d59914ccace5b05ea3d75 91a8ba1a623493bfb5e7d58f40415312 aac523975397d075e9f1886526aa8272 80cf02f7a9b63fdbcecc455c8c883272 51fd1bc541552c5de2e13588245e17e5 f56f981348914cf35d2f903a787720bc 17221fce95d50f36b198abb38db7c10e deac7adff328ec45d6760081048cb824 99f8fb4cae2cd3b801b5ab902854bca7 18c6c9dd405b674400e419b0ee07f11c 827c15193a1bff9ddae1adfe3d53be73 7974a4295f508d65fa10b37b11430ead 87102cc7acd4ef3b19b8cd63b2dd8ec0 ac39b5237a938fee81d2b85abf1983ca 6a7751b79f4bcc0b1fde2e34d7b05555 5eeb4c31acb4b7e4b833829bb68de51e 62fdb2fad916e301a4784f33379f7771 638af371f2b5650470b9dd2beb9d0016 90a638e5a46ae0ee874da64cf5b4b1ab a8b03dfadf0713c768969dc22ea6016b 4166bf39d48293caf33fab6ac1ab8f5f d0bac33a0020e25c41c3a41e7bbc1694 c503c89ac1b007f5a4970946afe2ae2f 4cba90cfc9b30a36c007c7d866ea88bb dffb0229be4ba7aed6a03863e22c0af7 9d5d97cdc7c42559bb9397782ad6b43d a55ea727f2470a28b40dc1e7dab628ec 7e0aeb6a2232631d0d68538b7947e46a bd9df404946149998eb589b1f7055cb3 0c74bba9f590ecc11d2afee192923680 a70c532fc50f6f83cb66f5d072ebaa04 5b3ce1393057085d5695eee4a826e62f 16c1c9dbeb7b4bf0d0d1da509d8eaca9 fca6618af6884e8fdf06bea4148db8d1; do
for sid in c63d8a5c188cda25b0544d67dc139b50 6e22f162b6a35046aae6caf7c2fef622 aeaa5c2c7c1fd2c166e27f9cafcd8941 19ad15fa56d73e69945804c316593289 84bc0312e6af7c37ef87d52a82ec2514 cf7fbea78fb54e2e1d2644a7ec87eb1a 8c09eee83a725688da4320ad3f2c5065 44e84924b839d76de56fb786045d047f f9164d5cd01985811890f4cf8f7a39e4 f440ef1d8fd49f8a0da291047920466d 456a57d881e36a1ceb2a4f44fafa9fc7 6e2f2fac1a5b5493ad3ac37603a5ccb0 f93e07a84525e9205aa1006611de57a5 1f3f4e07cf984b0eb57500a8dcd5df9b c423b4605014c3227deeeca7e9454902 4327cc810669efaf85150c8fdc2cd67e 908d6765fa88fa495ee60eb9c7266d85 bfac65700c30abf1758968d5818aa9be a5af37299085e651d0517ce821af0622 b2c3d9eb96040e5baa90b115231615a8 8900dd132510e4ba499aebed67f76445 8bb8386730e02c13c96a25f1677a43e1 9b39312b10ad5074f8f273c56685e133 104e5c141dbf2c3615b47adb9ad04c31 81f023ee37e200bbea5f2e255c3a0178 d9d54d1104fd667efdcf1b4f701e24d5 d2bf47969e3df816b82c4c54abadd589 0b3c99754bd4691a18856ffd7e6a5c2d 0ee5e4d702f5a5181f4023a9789f9e1f 5b4c9cb508f0f171649969e1deb3741f ff38045c9b4dbe8fff4e7d3ce874b95b dff085d8b76951cda9302e7b2d7266aa d0f03f924eef5ed4705f73299ecbf356 15a3aee5d699e7cb607bf112eaa6bb04 1d01b4844becae40dc20e265c04ac854 40b34509b51b307ddc12aebd51d8ede2 221cfea061ba53b5479f250dbcbae1d3 a49f7aa2674a332fb4ebc09a07a88d42 4f6cb9d95070dc2844d6d0802aef7541 d12a9e46d45b4921a85e501f5a5cc03a 0b7fc661068e46ec615243947535024a cf4ed9d61a81f8fb46932f00416226ce 429aea7fa98d4c609b1dce307e9ab92c 8831b695c3d5cfbfc633762ea87b6d6e 775d9fa498b05cd8fbd220c799e13965 cc41ad3692393f8fab7af6c5684521cb d39476339e8ec1bc9fa8c36c9b5a2ed8 b51026fc78808734041f1f908d278747 32df1a597d23bedcfbee75dbcdfd5196 3405d023b858318d34e15b33e4623aab d743497323d7f596901de47e67f7fda6 dafdd08f9245ab8420436984a25d49a8 a071ee45928ce0e3a7c895a0a3eee09a 492a138672140de3834e9ba8e2576bb1 6f6bd001cf0e54b7954142a22c146ccb 550395e756c05da02660bef98496b46c d0986ceb2c3a7977c806825da82beaa0 7cbf5fa45da54ae8ef6cf7198fc6cdbd 7ef83658cc7c5b39e560fa9385011c5e a6affdd5a1666eeada3b67b6a49c6065 9acb278648befa0eacd8fac118eb1800 450dba78cc35b07ab766068cb16b9b2e; do
  export level_index=0
  export skill_id=$sid
  while [ $level_index -lt 5 ]; do
    export id=$(openssl rand -base64 16)
    envsubst < level-up-klingon-query.json > $tmp_file_name
    curl "https://www.duolingo.com/2017-06-30/sessions/$id" \
      -X 'PUT' \
      -H 'authority: www.duolingo.com' \
      -H 'accept: application/json' \
      -H "authorization: Bearer $DUOLINGO_TOKEN" \
      -H 'user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36' \
      -H "idempotency-key: $id" \
      -H 'content-type: application/json; charset=UTF-8' \
      -H 'origin: https://www.duolingo.com' \
      -H 'sec-fetch-site: same-origin' \
      -H 'sec-fetch-mode: cors' \
      -H 'sec-fetch-dest: empty' \
      -H 'referer: https://www.duolingo.com/skill/es/Intro/3' \
      -H 'accept-language: en-US,en;q=0.9,ru-RU;q=0.8,ru;q=0.7' \
      --data-binary "@$tmp_file_name" \
      --compressed && echo '' && sleep $delay && let level_index=level_index+1
  done
done
rm $tmp_file_name
